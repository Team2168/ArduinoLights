//Intake Strip Length 32 LEDS

//Intake Side Left Length 0-7

//Intake Front Left Length 8-15

//Intake Front Right Length 16-23

//Intake Side Right Length 24-32

#include "LPD8806.h"
#include "SPI.h"

//Hardware Pins
int clockPin = 2;
int dataPin1 = 11;

//Strip Length Data
int IntakeStripLength = 32;
int IntakeSideLeftPxZero = 0;
int IntakeSideLeftLength = 8;
int IntakeFrontLeftPxZero = 9;
int IntakeFrontLeftLength = 8;
int IntakeFrontRightPxZero = 17;
int IntakeFrontRightLength = 8;
int IntakeSideRightPxZero = 24;
int IntakeSideRightLength = 8;

int i = 0,
    j = 0;   
    
LPD8806 strip(IntakeStripLength, dataPin1, clockPin);

void DisabledRobot();
void EnabledRobot();
void ShotReady();
void TuskRetractPosition();
void TuskIntermediatePosition();
void TuskExtendedPosition();
void HotGoalLeft();
void HotGoalRight();

int retValue = 0;
int lastretValue = 0;

void setup() {

  strip.begin();
  for(int q = 0; q < strip.numPixels(); q++) {
  strip.setPixelColor(q, strip.Color(0,127,0)); // green
  }
  strip.show();
  delay(200);
  
  //Set digital pins 3-9 as inputs
  //Note, pins 10 - 13 are in use by the SPI library. 
  pinMode(3, INPUT);
  pinMode(4, INPUT);
  pinMode(5, INPUT);
  pinMode(6, INPUT);
  pinMode(7, INPUT);
  pinMode(8, INPUT);
  pinMode(9, INPUT);

  pinMode(13, OUTPUT); // set pin8 as Output
  digitalWrite(13, HIGH); // write 5V to pin 8 
  
  Serial.begin(9600);  // Serial Monitor
} 

void loop() {
  lastretValue = retValue; 
  retValue = 0;
  //Read signals for cRIO
  Serial.println(retValue); // 0
  delay(200);
  
   if(digitalRead(3) == HIGH) {  
     retValue = retValue + 1; 
  }  
    Serial.println(retValue);    // 0
    delay(200);
  
   if(digitalRead(4) == HIGH) {
     retValue = retValue + 2;
  }  
    Serial.println(retValue);    // 2
    delay(200);
    
   if(digitalRead(5) == HIGH) {
     retValue = retValue + 3;
  }  
    Serial.println(retValue);    // 2
    delay(200);
  
   if(digitalRead(6) == HIGH) {
     retValue = retValue + 4;  
  }
   Serial.println(retValue);     // 2
   delay(200);
  
   if(digitalRead(7) == HIGH) {
     retValue = retValue + 5;  
  }
    Serial.println(retValue);    // 2
    delay(200);
  
   if(digitalRead(8) == HIGH) {
     retValue = retValue + 6;  
  }
    Serial.println(retValue);    // 2
    delay(200);
 
   if(digitalRead(9) == HIGH) {
     retValue = retValue + 7;  
  }
    Serial.println(retValue);    // 2
    delay(200);
      
      i = 0;
      
  if(retValue & 0x0001) {
      EnabledRobot();
   } 
  Serial.println("EnabledRobot");
 delay(1000);
 
  if(retValue & 0x0002) {
      DisabledRobot(); 
    }
  Serial.println("DisabledRobot");
  delay(1000); 
 
  if(retValue & 0x0003) {
      ShotReady(); 
    }
  Serial.println("ShotReady");
  delay(1000);  
  
  if(retValue & 0x0004)
    {
      TuskRetractPosition();       // Problem
    }
  Serial.println("TuskRetractPosition");
  delay(1000); 
  
  if(retValue & 0x0005)
    {
      TuskIntermediatePosition();  // Problem
    }
  Serial.println("TuskIntermediatePosition");
  delay(1000); 
  
  if(retValue & 0x0006)
    {
      TuskExtendedPosition(); 
    }
  Serial.println("TuskExtendedPosition");
  delay(1000);   
  
  if(retValue & 0x0007)
    {
      HotGoalLeft();
    }
  Serial.println("HotGoalLeft");
  delay(1000);  
  
  if(retValue & 0x0008)
    {
      HotGoalRight();
    }
  Serial.println("HotGoalRight");
  delay(1000);   
   // Serial.println("GetLEDStatus Loop");
}

// Enabled Robot
void EnabledRobot() {
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(0,127,0)); //Green
  }
  strip.show();
}

// Disabled Robot
void DisabledRobot() {
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(127,0,0)); //Red
  }  
  strip.show();
}

// Shot Ready
void ShotReady() {
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(0,127,127)); //Cyan 
  }
  strip.show();
}

// Tusks Retracted
void TuskRetractPosition() {
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(127,0,0)); //Dark Red  // PROBLEM
  } 
  strip.show();
}

// Tusks Intermediate
void TuskIntermediatePosition() {  
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(0,0,127)); //Blue      // PROBLEM
  }
  strip.show(); 
} 

// Tusks Extended
void TuskExtendedPosition() {
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(0,127,0)); //green
  }
  strip.show();
}
  
// Auto Mode - Hot Goal Left
void HotGoalLeft() {
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(127,0,0)); //Red
  }
  strip.show();
}

// Auto Mode - Hot Goal Right
void HotGoalRight() {
  for(int q = 0; q < strip.numPixels(); q++){
    strip.setPixelColor(q, strip.Color(0,127,0)); //Green
  }
  strip.show();
}
    
